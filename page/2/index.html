<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.140.1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Gy's Blog</title>
<meta name=description content><meta name=author content><link rel=canonical href=https://z1ggy-o.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://z1ggy-o.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://z1ggy-o.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://z1ggy-o.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://z1ggy-o.github.io/apple-touch-icon.png><link rel=mask-icon href=https://z1ggy-o.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://z1ggy-o.github.io/index.xml><link rel=alternate type=application/json href=https://z1ggy-o.github.io/index.json><link rel=alternate hreflang=en href=https://z1ggy-o.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://z1ggy-o.github.io/"><meta property="og:site_name" content="Gy's Blog"><meta property="og:title" content="Gy's Blog"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Gy's Blog"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Gy's Blog","url":"https://z1ggy-o.github.io/","description":"","logo":"https://z1ggy-o.github.io/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://z1ggy-o.github.io/ accesskey=h title="Gy's Blog (Alt + H)">Gy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://z1ggy-o.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://z1ggy-o.github.io/weekly/ title=Logs><span>Logs</span></a></li><li><a href=https://z1ggy-o.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://z1ggy-o.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://z1ggy-o.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>VLDB'17 - An empirical evaluation of in-memory multi-version concurrency control</h2></header><div class=entry-content><p>Motivation MVCC is the most popular scheme used in DBMSs developed in the last decade. However, there is no standards about how to implement MVCC. Many DBMSs tell people that they use MVCC and how they implement it. There are several design choices people need to make, however, no one tells why they choose such way to implement their MVCC. This paper gives a comprehensive evaluation about MVCC in main memory DBMSs and shows the trade-offs of different design choices. Contribution A good introduction about MVCC. Evaluation about how concurrency control protocol, version storage, garbage collection, and index management affect performance on a real in-memory DBMS. Evaluation of different configurations that used by main stream DBMSs. Advisings about how to achieve higher scalability. Solution This is an evaluation paper. There is no “solution” but evaluation analyses. People mainly focus on concurrency control protocols when they talk about scalability. However, the evaluation results show that the version storage scheme is also one of the most important components to scaling an in-memory MVCC DBMS in a multi-core environment. Delta storage scheme is good for write-intensive workloads especially only a subset of the attributes is modified. However, delta storage can have slow performance on read-heavy analytical workloads because it spends more time on traversing version chains. Most DBMSs choose to use tuple-level GC. However, the evaluation result shows that transaction-level can provide higher performance (at least in main memory DBMS) because it has smaller memory footprint. In terms of index management, logical pointer is always a better choice than physical pointers. The design choices that Oracle/MySQL and NuoDB made seems have the best performance. Evaluation They uses a DBMS implemented in CMU, called Peloton. The evaluation platform has 40 cores with 128 GB memory. Workloads are YCSB and TPC-C (both OLTP) The main finding of this paper If you want to learn MVCC, read this one. Still, “Measure, Then build”.</p></div><footer class=entry-footer><span title='2022-07-01 12:36:05 +0000 UTC'>July 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to VLDB'17 - An empirical evaluation of in-memory multi-version concurrency control" href=https://z1ggy-o.github.io/papers/wu-2017-empiricalevaluationinmemory/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>VLDB'14 - Staring into the abyss: An evaluation of concurrency control with one thousand cores</h2></header><div class=entry-content><p>Motivation We are moving to the many-core architecture era, however, many design of database systems are still based on optimizing of single-threaded performance.
To understand how to design high performance DBMS for the future many-core architecture to achieve high scalability, addressing bottlenecks in the system is necessary.
This paper focus on concurrency control schemes. (spoiler: the [following research]([[@An empirical evaluation of in-memory multi-version concurrency control]]) of [[Andrew Pavlo]] found out concurrency control schemes are not the most important component that affect the scalability of main memory DBMS on many-core environment )
...</p></div><footer class=entry-footer><span title='2022-07-01 12:21:38 +0000 UTC'>July 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to VLDB'14 - Staring into the abyss: An evaluation of concurrency control with one thousand cores" href=https://z1ggy-o.github.io/papers/yu-2014-staringabyssevaluation/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ATC'10 - ZooKeeper: Wait-free Coordination for Internet-scale Systems</h2></header><div class=entry-content><p>Motivation Large-scale distributed applications require different forms of coordination.
Usually, people develop services for each of the different coordination needs. As a result, developers are constrained to a fixed set of primitives.
Contribution Exposes APIs that enables application developers to implement their own primitives, without changes to the service core. Achieve high performance by relaxing consistency guarantees Solution ZooKeeper provides to its clients the abstraction of a set of data nodes (znodes). These data nodes are organized like a traditional file system.
...</p></div><footer class=entry-footer><span title='2022-05-23 09:00:39 +0000 UTC'>May 23, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to ATC'10 - ZooKeeper: Wait-free Coordination for Internet-scale Systems" href=https://z1ggy-o.github.io/papers/hunt-2010-zookeeperwaitfreecoordination/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SOSP '97 - The design of a practical system for fault-tolerant virtual machines</h2></header><div class=entry-content><p>MOTIVATION 1 A common approach to implementing fault-tolerant servers is the primary/backup approach. One way of replicating the state on the backup server is to ship changes to all state of the primary (e.g., CPU, memory, and I/Os devices) to the backup. However this approach needs high network bandwidth, and also leads to significant performance issues.
CONTRIBUTION Shipping all the changes to the backup server asks for high network bandwidth. To reduce the demand of network, we can use the “state-machine approach”, which models the servers as deterministic state machines that are kept in sync by starting them from the same initial state and ensuring that they receive the same input requests in the same order.
...</p></div><footer class=entry-footer><span title='2022-05-23 09:00:39 +0000 UTC'>May 23, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to SOSP '97 - The design of a practical system for fault-tolerant virtual machines" href=https://z1ggy-o.github.io/papers/scales-2010-designpracticalsystem/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SOSP'03 - The Google file system</h2></header><div class=entry-content><p>MOTIVATION Google needs a new distributed file system to meet the rapidly growing demands of Google’s data processing needs (e.g., the MapReduce).
Because Google is facing some technical challenges different with general use cases, they think it is better to develop a system that fits them well instead of following the traditional choices. For example, they chosen to trade off consistency for better performance.
CONTRIBUTION They designed and implemented a distributed file system, GFS. This system can leverage clusters consisted with large number of the machines. The design puts a lot of efforts on fault tolerance and availability because they think component failures are the norm rather than the exception.
...</p></div><footer class=entry-footer><span title='2022-05-22 11:11:56 +0000 UTC'>May 22, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to SOSP'03 - The Google file system" href=https://z1ggy-o.github.io/papers/ghemawat-2003-googlefilesystem/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>OSDI'04 - MapReduce: simplified data processing on large clusters</h2></header><div class=entry-content><p>MOTIVATION Google does a lot of straightforward computations in their workload. However, since the input data is large, they need to distribute the computations in order to finish the job in a reasonable amount of time.
To parallelize the computation, to distribute the data, and to handle failures make the original simple computation code complex. Thus, we need a better way to handle these issues, so the programmer only needs to focus on the computation task itself and does not need to be a distributed systems expert.
...</p></div><footer class=entry-footer><span title='2022-05-16 09:44:18 +0000 UTC'>May 16, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to OSDI'04 - MapReduce: simplified data processing on large clusters" href=https://z1ggy-o.github.io/papers/dean-2004-mapreducesimplifieddata/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>幻读，到底是怎么一回事儿</h2></header><div class=entry-content><p>幻读 (phantom phenomenon) 是数据库使用中经常提到的一个问题。一个常见的面试问题就是：某个数据库，在某个 isolation level 下，会不会出现幻读，以及其解决方法。
网上有许多关于幻读的文章，但是在读完之后发现，大多数的说明都浮于表面，好像作者们自己也并没有弄清楚幻读的本质。在本文中，我想利用数据库的一些高层抽象概念，来阐述幻读的本质。虽然不涉及任何的具体实现，但相信你在了解到这些概念之后，可以很快地理解幻读，以及各种幻读的处理方法。
...</p></div><footer class=entry-footer><span title='2022-05-12 07:11:54 +0000 UTC'>May 12, 2022</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to 幻读，到底是怎么一回事儿" href=https://z1ggy-o.github.io/posts/isolation-levels-and-phtantom/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CMU 15-445 2021 Fall Project#4</h2></header><div class=entry-content><p>We are implementing a lock-based concurrency control scheme in this project. More specifically, the strict two phase locking protocol.
The concept is not that hard. However, there are many implementation details we need to care about. Especially, sometimes we need to guess what is the test code wants.
You need to read the source code carefully. The instruction of this project is kind vague, or even wrong.
Task 1 - Lock Manager Read transaction.h, transaction_manager.h, and log_manager.h to learn the APIs first.
...</p></div><footer class=entry-footer><span title='2022-05-09 14:54:38 +0000 UTC'>May 9, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to CMU 15-445 2021 Fall Project#4" href=https://z1ggy-o.github.io/posts/projects/cmu15445-project04/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CMU 15-445 2021 Fall Project#3</h2></header><div class=entry-content><p>In this project, we will Implement executors for taking query plan nodes and executing them.
We are using the iterator query processing model (i.e., the Volcano model). Each executor implements a loop that continues calling Next on its children to retrieve tuples and process them one-by-one.
How executor works Before start coding, we need to learn a lot from the related source code first. The instruction does not show all the details and I believe they did this intentionally.
...</p></div><footer class=entry-footer><span title='2022-04-30 12:37:56 +0000 UTC'>April 30, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to CMU 15-445 2021 Fall Project#3" href=https://z1ggy-o.github.io/posts/projects/cmu15445-project03/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CMU 15-445 2021 Fall Project#2</h2></header><div class=entry-content><p>Because the course asks us to not sharing source code, here, I will only jot down some hits to help you (or maybe only me, kk) to finish the project. I will not even describe the process of any specific function, because I don’t think that would be very different from public the source code.
Task #1 - Page Layouts Because we want to persist the hash table instead of rebuild it every time, we need to design the layout that we use to store the hash table in the disks.
...</p></div><footer class=entry-footer><span title='2022-03-19 15:58:46 +0800 +0800'>March 19, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to CMU 15-445 2021 Fall Project#2" href=https://z1ggy-o.github.io/posts/projects/cmu15445_project2/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://z1ggy-o.github.io/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://z1ggy-o.github.io/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://z1ggy-o.github.io/>Gy's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>