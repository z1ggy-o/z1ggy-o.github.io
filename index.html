<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.140.1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Gy's Blog</title>
<meta name=description content><meta name=author content><link rel=canonical href=https://z1ggy-o.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://z1ggy-o.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://z1ggy-o.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://z1ggy-o.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://z1ggy-o.github.io/apple-touch-icon.png><link rel=mask-icon href=https://z1ggy-o.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://z1ggy-o.github.io/index.xml><link rel=alternate type=application/json href=https://z1ggy-o.github.io/index.json><link rel=alternate hreflang=en href=https://z1ggy-o.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://z1ggy-o.github.io/"><meta property="og:site_name" content="Gy's Blog"><meta property="og:title" content="Gy's Blog"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Gy's Blog"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Gy's Blog","url":"https://z1ggy-o.github.io/","description":"","logo":"https://z1ggy-o.github.io/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://z1ggy-o.github.io/ accesskey=h title="Gy's Blog (Alt + H)">Gy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://z1ggy-o.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://z1ggy-o.github.io/weekly/ title=Logs><span>Logs</span></a></li><li><a href=https://z1ggy-o.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://z1ggy-o.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://z1ggy-o.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>👋 Welcome to Gy&rsquo;s Log</h1></header><div class=entry-content>Hi, this is gy. Hope you can find someting interesting or useful here.</div><footer class=entry-footer><div class=social-icons></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Weekly Digest: 2024-12-28</h2></header><div class=entry-content><p>学到啥 Neovim TJ Advent 系列 LSP in Neovim help: vim.lsp.* 查看 neovim 内建 LSP client 所提供的 API nvim-lspconfig package 为各类语言的 LSP client 配置提供了基本的支持 :help lspconfig-all 可以查看想要对应语言的 server 安装方法和配置方法 一般现在都会搭配 mason.nvim package 来自动下载，但是了解最基本的方法更好一些 LSP Format 就是由 vim.lsp.buf.format() 来对当前 buffer 实现的 format 因为是 LSP 提供的功能，有可能有一些 server 并不支持 TJ 介绍了一个 autocmd 的在 server attach 的时候确认是否支持 format，并动态的绑定键位 editorconfig 是一个更加通用的格式定义工具，比起直接对 LSP 进行配置，更推荐这样的方式，因为很多我们知道的 editor，比如 neovim 就支持对它的解析。这样，书写一次规则，就可以在各个 editor 中都使用了 Telescope telescope 这个 fuzzy finder 的核心就是 finder, sorter, previewer 三个部件。Finder 搜索内容，sorter 对搜索到的内容进行排序，previewer 展示内容，三者组合起来就成了一个可用的 picker 了。 Advanced Telescope 里就展示了如何实现一个自定义的 picker 来满足自己的搜索需求 干了啥 这周重新把 blog 组织起来。这次的目标是使用简单的工具，把时间专注到内容而不是格式上去。本篇就是这唯一更新的内容 :) 脚可能是上周末团建的时候扭伤了，导致只跑了一次步。估计下周也没法跑了 才刚刚为冬天跑步买了装备呢 :( 房子重新续约。不让中间商赚差价，每个月省了几百块的租金😁 工作呢 项目进入阶段尾声，没有什么可以公开分享的。学习了一些内部代码</p></div><footer class=entry-footer><span title='2024-12-28 14:47:25 +0800 +0800'>December 28, 2024</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Weekly Digest: 2024-12-28" href=https://z1ggy-o.github.io/weekly/2024/24-12-28/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>FAST'20 - BCW: Buffer-Controlled Writes to HDDs for SSD-HDD Hybrid Storage Server</h2></header><div class=entry-content><p>Short Summary HDDs are under utilized in hybrid cloud storage systems which makes SSD to handle most of the requests. This shorts the life of SSDs and also wants the utilization of HDDs.
The authors of this paper find that the write requests can have $μ$s-level latency when using HDD if the buffer in HDD is not full. They leverage this finding to let HDD to handle write requests if the requests can fit into the in disk buffer.
...</p></div><footer class=entry-footer><span title='2023-09-17 12:51:01 +0000 UTC'>September 17, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to FAST'20 - BCW: Buffer-Controlled Writes to HDDs for SSD-HDD Hybrid Storage Server" href=https://z1ggy-o.github.io/papers/wang-2020-bcw/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>LevelDB 源码分析笔记</h2></header><div class=entry-content><p>最近一周花了些时间阅读了 LevelDB 的代码，了解一下 LSM-Tree 的具体实现。在阅读的过程中简略的记录了一些笔记，放在了我的 Github repo 里。笔记是用蹩脚英语写的，也没有做任何的插图，建议配合此分析文档一起食用。
...</p></div><footer class=entry-footer><span title='2022-08-22 13:30:19 +0000 UTC'>August 22, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Gy</footer><a class=entry-link aria-label="post link to LevelDB 源码分析笔记" href=https://z1ggy-o.github.io/posts/leveldb-analysis/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>OSDI'22 - BlockFlex: Enabling Storage Harvesting with Software-Defined Flash in Modern Cloud Platforms</h2></header><div class=entry-content><p>Motivation Cloud computing system is high virtualised for higher resource utilization. Recently, cloud providers have developed harvesting techniques to allow evictable virtual machines to use unallocated resources.
People mostly focus on how to use unallocated computing resources and memory resources, however, there is no harvesting techniques that built for storage resources.
This paper proposes a harvesting framework for storage resources that provides isolation of space, bandwidth, and data security.
Contribution They conduct a characterization study of the storage efficiency in different cloud platforms through trace logs provided by these platforms.
...</p></div><footer class=entry-footer><span title='2022-08-07 11:39:27 +0000 UTC'>August 7, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Gy</footer><a class=entry-link aria-label="post link to OSDI'22 - BlockFlex: Enabling Storage Harvesting with Software-Defined Flash in Modern Cloud Platforms" href=https://z1ggy-o.github.io/papers/reidys-2022-blockflexenablingstorage/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>TOCS'13 - Spanner: Google’s Globally Distributed Database</h2></header><div class=entry-content><p>Motivation Some applications need relation data model and strong consistency which BigTable cannot gives.
So, Google want to develop a system that focuses on managing cross-datacenter replicate data with database features.
Contribution Provides a globally distributed database that shards data across many sets of Paxos state machine in datacenters.
Provide SQL-like interface, strong consistency, and high read performance.
Solution Replication
Use Paxos to replicate data to several nodes, which provides higher availability. Local Transactions (within a paxos group)
...</p></div><footer class=entry-footer><span title='2022-07-31 05:40:38 +0000 UTC'>July 31, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to TOCS'13 - Spanner: Google’s Globally Distributed Database" href=https://z1ggy-o.github.io/papers/2.c-2013-spanner/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SOSP'97 - Frangipani: a scalable distributed file system</h2></header><div class=entry-content><p>Motivation File system administration for a large, growing computer installation is a laborious task. A scalable distributed file system that can handle system recovery, reconfiguration, and load balancing with little human involvement is what we want. Contribution A real system that shows us how to do cache coherence and distributed transactions. Solution The file system part is implemented as a kernel module, which enables the file system to take advantage of all the existing OS functionalities, e.g., page cache. Data is stored into a virtual disks, which is a distributed storage pool that shared by all file system servers. All file system operations are protected by a lock server. Client will invalid the cache when it release the lock. As a result, client can only see clean data and the cache coherence is ensured. Because the client decides when to give the lock back, Frangipani can provide transactional file-system operations. (take locks on all data object we need first, only release these locks when all operations are finished.) Write-ahead logging is used for crash recovery. Because all the data are stored in the shared distributed storage, the log can be read by other servers and recover easily. The underlying distributed storage and the lock server are both using Paxos to ensure availability. Evaluation They evaluated the system with some basic file system operations, such as create directories, copy files, and scan files e.t.c. They tested both the local performance and the scalability of the proposed system. The Main Finding of the Paper Complex clients sharing simple storage can have better scalability. Distributed lock can be used to achieve cache coherence and distributed transaction.</p></div><footer class=entry-footer><span title='2022-07-01 13:30:21 +0000 UTC'>July 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to SOSP'97 - Frangipani: a scalable distributed file system" href=https://z1ggy-o.github.io/papers/hekkath-1997-frangipaniscalabledistributed/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>VLDB'17 - An empirical evaluation of in-memory multi-version concurrency control</h2></header><div class=entry-content><p>Motivation MVCC is the most popular scheme used in DBMSs developed in the last decade. However, there is no standards about how to implement MVCC. Many DBMSs tell people that they use MVCC and how they implement it. There are several design choices people need to make, however, no one tells why they choose such way to implement their MVCC. This paper gives a comprehensive evaluation about MVCC in main memory DBMSs and shows the trade-offs of different design choices. Contribution A good introduction about MVCC. Evaluation about how concurrency control protocol, version storage, garbage collection, and index management affect performance on a real in-memory DBMS. Evaluation of different configurations that used by main stream DBMSs. Advisings about how to achieve higher scalability. Solution This is an evaluation paper. There is no “solution” but evaluation analyses. People mainly focus on concurrency control protocols when they talk about scalability. However, the evaluation results show that the version storage scheme is also one of the most important components to scaling an in-memory MVCC DBMS in a multi-core environment. Delta storage scheme is good for write-intensive workloads especially only a subset of the attributes is modified. However, delta storage can have slow performance on read-heavy analytical workloads because it spends more time on traversing version chains. Most DBMSs choose to use tuple-level GC. However, the evaluation result shows that transaction-level can provide higher performance (at least in main memory DBMS) because it has smaller memory footprint. In terms of index management, logical pointer is always a better choice than physical pointers. The design choices that Oracle/MySQL and NuoDB made seems have the best performance. Evaluation They uses a DBMS implemented in CMU, called Peloton. The evaluation platform has 40 cores with 128 GB memory. Workloads are YCSB and TPC-C (both OLTP) The main finding of this paper If you want to learn MVCC, read this one. Still, “Measure, Then build”.</p></div><footer class=entry-footer><span title='2022-07-01 12:36:05 +0000 UTC'>July 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to VLDB'17 - An empirical evaluation of in-memory multi-version concurrency control" href=https://z1ggy-o.github.io/papers/wu-2017-empiricalevaluationinmemory/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>VLDB'14 - Staring into the abyss: An evaluation of concurrency control with one thousand cores</h2></header><div class=entry-content><p>Motivation We are moving to the many-core architecture era, however, many design of database systems are still based on optimizing of single-threaded performance.
To understand how to design high performance DBMS for the future many-core architecture to achieve high scalability, addressing bottlenecks in the system is necessary.
This paper focus on concurrency control schemes. (spoiler: the [following research]([[@An empirical evaluation of in-memory multi-version concurrency control]]) of [[Andrew Pavlo]] found out concurrency control schemes are not the most important component that affect the scalability of main memory DBMS on many-core environment )
...</p></div><footer class=entry-footer><span title='2022-07-01 12:21:38 +0000 UTC'>July 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to VLDB'14 - Staring into the abyss: An evaluation of concurrency control with one thousand cores" href=https://z1ggy-o.github.io/papers/yu-2014-staringabyssevaluation/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ATC'10 - ZooKeeper: Wait-free Coordination for Internet-scale Systems</h2></header><div class=entry-content><p>Motivation Large-scale distributed applications require different forms of coordination.
Usually, people develop services for each of the different coordination needs. As a result, developers are constrained to a fixed set of primitives.
Contribution Exposes APIs that enables application developers to implement their own primitives, without changes to the service core. Achieve high performance by relaxing consistency guarantees Solution ZooKeeper provides to its clients the abstraction of a set of data nodes (znodes). These data nodes are organized like a traditional file system.
...</p></div><footer class=entry-footer><span title='2022-05-23 09:00:39 +0000 UTC'>May 23, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to ATC'10 - ZooKeeper: Wait-free Coordination for Internet-scale Systems" href=https://z1ggy-o.github.io/papers/hunt-2010-zookeeperwaitfreecoordination/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>SOSP '97 - The design of a practical system for fault-tolerant virtual machines</h2></header><div class=entry-content><p>MOTIVATION 1 A common approach to implementing fault-tolerant servers is the primary/backup approach. One way of replicating the state on the backup server is to ship changes to all state of the primary (e.g., CPU, memory, and I/Os devices) to the backup. However this approach needs high network bandwidth, and also leads to significant performance issues.
CONTRIBUTION Shipping all the changes to the backup server asks for high network bandwidth. To reduce the demand of network, we can use the “state-machine approach”, which models the servers as deterministic state machines that are kept in sync by starting them from the same initial state and ensuring that they receive the same input requests in the same order.
...</p></div><footer class=entry-footer><span title='2022-05-23 09:00:39 +0000 UTC'>May 23, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;map[link:https://github.com/z1ggy-o name:gyzhu]</footer><a class=entry-link aria-label="post link to SOSP '97 - The design of a practical system for fault-tolerant virtual machines" href=https://z1ggy-o.github.io/papers/scales-2010-designpracticalsystem/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://z1ggy-o.github.io/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://z1ggy-o.github.io/>Gy's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>